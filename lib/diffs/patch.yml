---
- name: Apply patch files to /etc
  hosts: localhost
  become: true

  # 1. Use the clean vars_files structure (assuming vars.yml is still separate)
  vars_files:
    - vars.yml # Contains the list 'patches'

  tasks:
    - name: Dynamically apply patches to all destinations
      ansible.builtin.include_tasks:
        file: apply-one-patch.yml
      # ðŸ’¡ FIX: Loop directly over the 'patches' list variable
      with_items: "{{ patches }}"
      loop_control:
        loop_var: item
